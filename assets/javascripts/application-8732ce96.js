!function(e){var n,t,a,i,r,o,l,c,s;e.fn.nicefade=function(u){return this.next=function(){l=!0,a=i,c.fadeTo(a,c.loopCycler,!1)},this.previous=function(){l=!0,a=r,c.fadeTo(a,c.loopCycler,!1)},this.seek=function(e){l=!0,e=parseInt(e),a=n.children(":nth-child("+e+")"),c.fadeTo(a,c.loopCycler,!1)},this.stop=function(){l=!0},this.is_active=function(){return!l},this.current_slide=function(){return t},this.slideshow_length=function(){return n.children().length},this.target_slide=function(){return a},this.each(function(){n=e(this),s=e.extend({animationSpeed:500,animationDelay:5e3,indexList:n.siblings(".nicefade_index-list"),initialIndex:1,currentClass:"current",afterSlideChange:null,beforeSlideChange:null},u),c={init:function(){t=e("> *:nth-child("+s.initialIndex+")",n),a=e(),c.updateSlideStatus(),o=s.indexList,l=!1,n.children().not(t).hide(),o.children(":nth-child("+s.initialIndex+")").addClass(s.currentClass),o.find("a").click(function(t){t.preventDefault(),l=!0;var i=e(t.target).parent().index(),r=n.children(":nth-child("+(i+1)+")");a=r,c.fadeTo(r,e.noop(),!0)}),setTimeout(function(){c.loopCycler()},s.animationDelay)},fadeTo:function(n,a,i){e.isFunction(s.beforeSlideChange)&&s.beforeSlideChange(),t.stop().fadeTo(s.animationSpeed,0,function(){e(this).removeClass(s.currentClass).hide()}),t=n.stop().fadeTo(s.animationSpeed,1,function(){a&&a(),c.updateSlideStatus(),i||c.updateIndex(),e.when(e(this).addClass(s.currentClass)).done(function(){e.isFunction(s.afterSlideChange)&&s.afterSlideChange()})}),i&&c.updateIndex()},loopCycler:function(){l||c.fadeTo(i,function(){setTimeout(function(){c.loopCycler()},s.animationDelay)},!1)},updateSlideStatus:function(){r=t.prev(),i=t.next(),i.length||(i=n.children(":first")),r.length||(r=n.children(":last")),a=e()},updateIndex:function(){var e=t.index()+1;o.children(":nth-child("+e+")").addClass(s.currentClass).siblings().removeClass(s.currentClass)}},c.init()})}}(jQuery),/*
  Masked Input plugin for jQuery
  Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
  Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
  Version: 1.3.1
*/
function(e){function n(){var e=document.createElement("input"),n="onpaste";return e.setAttribute(n,""),"function"==typeof e[n]?"paste":"input"}var t,a=n()+".mask",i=navigator.userAgent,r=/iphone/i.test(i),o=/android/i.test(i);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,n){var t;return 0===this.length||this.is(":hidden")?void 0:"number"==typeof e?(n="number"==typeof n?n:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,n):this.createTextRange&&(t=this.createTextRange(),t.collapse(!0),t.moveEnd("character",n),t.moveStart("character",e),t.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,n=this[0].selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),e=0-t.duplicate().moveStart("character",-1e5),n=e+t.text.length),{begin:e,end:n})},unmask:function(){return this.trigger("unmask")},mask:function(n,i){var l,c,s,u,d,h;return!n&&this.length>0?(l=e(this[0]),l.data(e.mask.dataName)()):(i=e.extend({placeholder:e.mask.placeholder,completed:null},i),c=e.mask.definitions,s=[],u=h=n.length,d=null,e.each(n.split(""),function(e,n){"?"==n?(h--,u=e):c[n]?(s.push(RegExp(c[n])),null===d&&(d=s.length-1)):s.push(null)}),this.trigger("unmask").each(function(){function l(e){for(;h>++e&&!s[e];);return e}function f(e){for(;--e>=0&&!s[e];);return e}function p(e,n){var t,a;if(!(0>e)){for(t=e,a=l(n);h>t;t++)if(s[t]){if(!(h>a&&s[t].test(S[a])))break;S[t]=S[a],S[a]=i.placeholder,a=l(a)}k(),y.caret(Math.max(d,e))}}function m(e){var n,t,a,r;for(n=e,t=i.placeholder;h>n;n++)if(s[n]){if(a=l(n),r=S[n],S[n]=t,!(h>a&&s[a].test(r)))break;t=r}}function v(e){var n,t,a,i=e.which;8===i||46===i||r&&127===i?(n=y.caret(),t=n.begin,a=n.end,0===a-t&&(t=46!==i?f(t):a=l(t-1),a=46===i?l(a):a),b(t,a),p(t,a-1),e.preventDefault()):27==i&&(y.val(x),y.caret(0,C()),e.preventDefault())}function g(n){var t,a,r,c=n.which,u=y.caret();n.ctrlKey||n.altKey||n.metaKey||32>c||c&&(0!==u.end-u.begin&&(b(u.begin,u.end),p(u.begin,u.end-1)),t=l(u.begin-1),h>t&&(a=String.fromCharCode(c),s[t].test(a)&&(m(t),S[t]=a,k(),r=l(t),o?setTimeout(e.proxy(e.fn.caret,y,r),0):y.caret(r),i.completed&&r>=h&&i.completed.call(y))),n.preventDefault())}function b(e,n){var t;for(t=e;n>t&&h>t;t++)s[t]&&(S[t]=i.placeholder)}function k(){y.val(S.join(""))}function C(e){var n,t,a=y.val(),r=-1;for(n=0,pos=0;h>n;n++)if(s[n]){for(S[n]=i.placeholder;pos++<a.length;)if(t=a.charAt(pos-1),s[n].test(t)){S[n]=t,r=n;break}if(pos>a.length)break}else S[n]===a.charAt(pos)&&n!==u&&(pos++,r=n);return e?k():u>r+1?(y.val(""),b(0,h)):(k(),y.val(y.val().substring(0,r+1))),u?n:d}var y=e(this),S=e.map(n.split(""),function(e){return"?"!=e?c[e]?i.placeholder:e:void 0}),x=y.val();y.data(e.mask.dataName,function(){return e.map(S,function(e,n){return s[n]&&e!=i.placeholder?e:null}).join("")}),y.attr("readonly")||y.one("unmask",function(){y.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(t);var e;x=y.val(),e=C(),t=setTimeout(function(){k(),e==n.length?y.caret(0,e):y.caret(e)},10)}).bind("blur.mask",function(){C(),y.val()!=x&&y.change()}).bind("keydown.mask",v).bind("keypress.mask",g).bind(a,function(){setTimeout(function(){var e=C(!0);y.caret(e),i.completed&&e==y.val().length&&i.completed.call(y)},0)}),C()}))}})}(jQuery),function(){$(document).ready(function(){var e,n;return e=$(".header").height(),n=$(".news-list"),$("a[rel=call-back], a[rel=close-modal]").click(function(e){return e.preventDefault(),$("body").toggleClass("show-callback-form")}),$(".icon-nav").click(function(e){return e.preventDefault(),$(".nav").toggleClass("show-mobile-nav")}),$(".services-wrapper ul").nicefade(),$.validate({borderColorOnError:!1}),$(".phone").mask("+7 (999) 999-99-99"),n.length>0&&$.getJSON("http://api.tumblr.com/v2/blog/grandexpert.tumblr.com/posts?callback=?",{api_key:"ARlZbVqBPZ14lGSUTRqFRdHqSUyET8YZrGDicOIIFnXYYpLmLZ"}).then(function(e){return n.find(".loading").remove(),$.each(e.response.posts,function(e,t){return n.append('<li><h2><a href="'+t.url+'" target="_blank">'+t.title+"</a></h2>"+t.description+"</li>")})}),$(window).scroll(function(){var n;return n=$(this).scrollTop(),n>=e?$(".nav").addClass("inverse"):$(".nav").removeClass("inverse")})})}.call(this);
